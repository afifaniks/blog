# স্ট্রাকচারের পয়েন্টার

## পয়েন্টার কি?

আমরা সবাই জানি পয়েন্টার কি। পয়েন্টার হল এক ধরণের ভ্যারিয়েবল যে অন্য ভ্যারিয়েবলের এড্রেস ধরে রাখে। পয়েন্টার কিভাবে কাজ করে তাও আশা করি আমরা সবাই মোটামুটি জানি। এখানে আমরা পয়েন্টারের ব্যাসিক নিয়ে তেমন আলোচনা করব না। আমরা এখানে যে বিষয়টি নিয়ে আলোচনা করব সেটি হচ্ছে, স্ট্রাকচারের পয়েন্টার। তবে পরের অংশটুকু বুঝে পড়ার জন্য পয়েন্টার সম্পর্কে ধারণা থাকা খুবই জরুরি।

## স্ট্রাকচারের পয়েন্টার

এটা আমাদের সবারই জানা যে, কোন পয়েন্টার ডিক্লেয়ার করার আগে আমাদের ঐ পয়েন্টারের টাইপ বলে দিতে হয়। কারণ ঐ পয়েন্টার তো আর জানে না যে সে কোন টাইপের ভ্যারিয়বলের এড্রেস রাখবে। মনে হতে পারে যে, তার কাজতো শুধু এড্রেসই ধরে রাখা তবে টাইপ দেয়ার দরকার টা কি! দরকার আছে। আমরা জানি যে, বিভিন্ন ডাটা টাইপ মেমোরিতে বিভিন্ন রকম জায়গা নেয়। যেমন কোন **char** টাইপ ভ্যারিয়েবল ১ বাইট জায়গা নেয়, যেখানে **int** টাইপ নেয় ৪ বাইট। এখন আমরা যখন ইন্টিজার টাইপের পয়েন্টার ডিক্লেয়ার করি তখন সে তার পয়েন্টিং এড্রেসের পরবর্তী ৪ বাইটের এড্রেসের জন্যে ডাটা রিড করবে, যেখানে ক্যারেক্টার টাইপ করবে শুধুমাত্র পরবর্তী বাইটের জন্য। আশা করি, টাইপের ব্যাপারটা এবার পরিষ্কার! এবার আসা যাক স্ট্রাকচারের পয়েন্টারে। আমরা এতক্ষণ দেখেছি যে বিভিন্ন ডাটা টাইপের জন্য তাদের নিজস্ব টাইপের পয়েন্টার হয়। আবার স্ট্রাকচারও যেহেতু এক ধরণের ইউজার ডিফাইন্ড ডাটা টাইপ এবং স্বভাবতই ডিক্লেয়ার করার সাথে সাথে স্ট্রাকচার মেমোরিতে প্রয়োজনমত জায়গা নিবে সুতরাং তারও পয়েন্টার ডিক্লেয়ার করা যায়। স্ট্রাকচারের পয়েন্টারের কর্মক্ষেত্র অনেক ব্যাপক। অনেক ধরণের ডাটা স্ট্রাকচার শুধুমাত্র স্ট্রাকচারের পয়েন্টারের ধারণায় তৈরি হয়েছে। যার কিছু আমরা পরবর্তিতে দেখব। গত অধ্যায়ে আমরা দেখেছি কিভাবে ডট অপারেটর দিয়ে আমরা স্ট্রাকচারের মেম্বারদের অ্যাক্সেস করতে পারি। আমরা কিন্তু চাইলে পয়েন্টার দিয়েও কাজটা করে ফেলতে পারি। সেক্ষেত্রে আমাদের আরেকটি অপারেটর আছে যেটির ব্যবহার আমরা একটু পরেই দেখব। আপাতত নিচের উদাহরণটি লক্ষ্য করা যাকঃ

```c
struct Man
{
    char name[10];
    int age;
};

struct Man *pointerForMan;
```

এখানে প্রথমে আমরা আগের মতই একটি স্ট্রাকচার ডিক্লেয়ার করেছি যার নাম **Man**. এতে দুইটি ফিল্ড আছে। যার একটি নাম, অপরটি বয়স। তারপর আমরা যে কাজটি করেছি সেটি হল, আমাদের ডিক্লেয়ার করা স্ট্রাকচার টাইপের একটি পয়েন্টার ডিক্লেয়ার করেছি। এখানে **struct Man** এইটা হচ্ছে আমদের পয়েন্টারের টাইপ। **struct** দিয়ে আমরা বুঝাচ্ছি যে এটি একটি স্ট্রাকচার এবং পরের **Man** দ্বারা আমরা আমাদের ডিক্লেয়ার করা স্ট্রাকচারটিকে নির্দেশ করছি। আর বাকিটা তো সাধারণ পয়েন্টার ডিক্লারেশানের মতই। আশা করি, এতটুকু বুঝতে কোন প্রবলেম নেই। একটু আধটু থাকলেও দুই একটা উদাহরণ দেখলেই পরিষ্কার হয়ে যাবে। এখন আমরা যদি এই স্ট্রাকচারের জন্য একটি ভ্যারিয়বল ডিক্লেয়ার করি এবং এর এড্রেস আমাদের ডিক্লেয়ার করে পয়েন্টার **\*pointerForMan** এ এসাইন করে দেই, তাহলে সেটি অন্যান্য পয়েন্টার যেভাবে কাজ করে ঠিক সেভাবেই কাজ করবে। নিচের প্রোগ্রামটি লক্ষ্য করা যাকঃ

```c
#include <stdio.h>
#include <string.h>

struct Man
{
    char name[10];
    int age;
};

int main()
{
    struct Man Man1;
    struct Man *pointerForMan;

    strcpy(Man1.name, "Abul");
    Man1.age = 102;

    pointerForMan = &Man1;

    printf("%s %d\n", Man1.name, Man1.age); //Print1
    printf("%s %d\n", pointerForMan->name, pointerForMan->age); //Print2

    return 0;

}
```

উপরের কোডটি রান কর। কি দেখতে পেলে? সব ঠিকঠাক থাকলে নিচের ছবির মত আউটপুট দেখতে পাওয়ার কথা। লক্ষ্য কর, এখানে একই লাইন দুইবার দেখা যাচ্ছে।

![](<.gitbook/assets/Screenshot from 2017-10-14 03-47-34.png>)

কোডের দিকে তাকালে দেখতে পাবে আমরা Print1 লাইনটিতে নরমালি স্ট্রাকচার ভ্যারিয়েবল থেকে ডাটা প্রিন্ট করেছি। কিন্তু দ্বিতীয় লাইনে(Print2) আমরা যেটা করেছি সেটা হল, আমরা পয়েন্টার দিয়ে কাজটা করেছি। উপরের কোডে আমরা প্রথমে Man1 নামে একটি স্ট্রাকচার ভ্যারিয়েবল ডিক্লেয়ার করেছি। এবং তারপর একই টাইপের একটি পয়েন্টার pointerForMan ডিক্লেয়ার করেছি। তারপর, Man1 এর জন্য প্রয়োজনমত ইনপুট নিয়ে Man1 এর রেফারেন্স পয়েন্টারটিতে এসাইন করে দিয়েছি। এখন কথা হচ্ছে, Print2 তে আমরা কাজটি কিভাবে করলাম? আমরা এখানে একটি 'নতুন' অপারেটর ব্যবহার করেছি। অপারেটরটি হল '**->'(Structure pointer operator).** এই অপারেটরটি দিয়ে মূলত পয়েন্টারের মাধ্যমে আমরা কোন স্ট্রাকচারের মেম্বারকে এক্সেস করতে পারি। আমরা চাইলে কোন স্ট্রাকচার ভ্যারিয়েবল ছাড়াই শুধুমাত্র পয়েন্টার এবং এই অপারেটর ব্যবহার করে কোন স্ট্রাকচারের যেকোন ফিল্ডের ভ্যালু এসাইন, চেঞ্জ করতে পারি। তবে সেক্ষেত্রে আমাদের ডায়নামিকালি মেমোরি এলোকেট করে নিতে হবে। সেটা আমরা পরের অধ্যায়ে দেখব। এবার তুমি নিজে নিজে একই ভাবে, একটি স্ট্রাকচার ডিক্লেয়ার করে সেই স্ট্রাকচারের জন্য দুইটি ভ্যারিয়েবল এবং দুইটি পয়েন্টার ডিক্লেয়ার করে পয়েন্টার দিয়ে স্ট্রাকচারের মেম্বারগুলোর ভ্যালু প্রিন্ট করার চেষ্টা কর। চাইলে নিচের **Example** স্ট্রাকচারটি ব্যবহার করতে পার।

```c
struct Example
{
    int data;
    double data2;
    char data3;
};
```
